"use strict";

var fs = require("fs");

module.exports.isEligable = function (path) {
  if (!fs.existsSync(path + "/package.json")) {
    return false;
  }

  var realPackage = fs.realpathSync(path + "/package.json");
  delete require.cache[realPackage];
  var pkg = require(realPackage);

  if (!pkg.engines || !pkg.engines.atom && !pkg.engines.node) {
    return false;
  }

  return true;
};

module.exports.settings = function (path) {
  var realPackage = fs.realpathSync(path + "/package.json");
  var pkg = require(realPackage);

  return {
    exec: pkg.engines.node ? "npm" : "apm",
    args: ["--color=always", "install"],
    sh: false
  };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL29wcy8uYXRvbS9wYWNrYWdlcy9idWlsZC9saWIvdG9vbHMvbnBtX2FwbS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUV2QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxVQUFVLElBQUksRUFBRTtBQUMxQyxNQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLEVBQUU7QUFDMUMsV0FBTyxLQUFLLENBQUM7R0FDZDs7QUFFRCxNQUFJLFdBQVcsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxlQUFlLENBQUMsQ0FBQztBQUMxRCxTQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDbEMsTUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDOztBQUUvQixNQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEFBQUMsRUFBRTtBQUM1RCxXQUFPLEtBQUssQ0FBQztHQUNkOztBQUVELFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxVQUFVLElBQUksRUFBRTtBQUN4QyxNQUFJLFdBQVcsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxlQUFlLENBQUMsQ0FBQztBQUMxRCxNQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRS9CLFNBQU87QUFDTCxRQUFJLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLEtBQUs7QUFDdEMsUUFBSSxFQUFFLENBQUUsZ0JBQWdCLEVBQUUsU0FBUyxDQUFFO0FBQ3JDLE1BQUUsRUFBRSxLQUFLO0dBQ1YsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL2hvbWUvb3BzLy5hdG9tL3BhY2thZ2VzL2J1aWxkL2xpYi90b29scy9ucG1fYXBtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5tb2R1bGUuZXhwb3J0cy5pc0VsaWdhYmxlID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGggKyAnL3BhY2thZ2UuanNvbicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHJlYWxQYWNrYWdlID0gZnMucmVhbHBhdGhTeW5jKHBhdGggKyAnL3BhY2thZ2UuanNvbicpO1xuICBkZWxldGUgcmVxdWlyZS5jYWNoZVtyZWFsUGFja2FnZV07XG4gIHZhciBwa2cgPSByZXF1aXJlKHJlYWxQYWNrYWdlKTtcblxuICBpZiAoIXBrZy5lbmdpbmVzIHx8ICghcGtnLmVuZ2luZXMuYXRvbSAmJiAhcGtnLmVuZ2luZXMubm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLnNldHRpbmdzID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgdmFyIHJlYWxQYWNrYWdlID0gZnMucmVhbHBhdGhTeW5jKHBhdGggKyAnL3BhY2thZ2UuanNvbicpO1xuICB2YXIgcGtnID0gcmVxdWlyZShyZWFsUGFja2FnZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBleGVjOiBwa2cuZW5naW5lcy5ub2RlID8gJ25wbScgOiAnYXBtJyxcbiAgICBhcmdzOiBbICctLWNvbG9yPWFsd2F5cycsICdpbnN0YWxsJyBdLFxuICAgIHNoOiBmYWxzZVxuICB9O1xufTtcbiJdfQ==